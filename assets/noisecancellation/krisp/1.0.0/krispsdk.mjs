/*!
 * 
 *    @license KRISP TECHNOLOGIES, INC
 *
 *   KRISP TECHNOLOGIES, INC
 *   __________________
 *
 *   [2018] - [2022] Krisp Technologies, Inc
 *   All Rights Reserved.
 *
 *   NOTICE: By accessing this programming code, you acknowledge that you have read, understood, and agreed to the User Agreement available at
 *   https://krisp.ai/terms-of-use.
 *
 *   Please note that ALL information contained herein is and remains the property of Krisp Technologies, Inc., and its affiliates or assigns, if any. The intellectual property
 *   contained herein is proprietary to Krisp Technologies, Inc. and may be covered by pending and granted U.S. and Foreign Patents, and is further protected by
 *   copyright, trademark and/or other forms of intellectual property protection.
 *   Dissemination of this information or reproduction of this material IS STRICTLY FORBIDDEN.
 *
 */
function a0_0x502d(){const _0x52f9bb=['model_16','disconnect','model_vad','createMediaStreamSource','sources','sampleRate','73494mqdQBl','10280991kSZMwK','2SUQmTk','open','disabled','get','onload','invalid_stream','invalid_state','Invalid\x20MediaStream','1347036UVMpFZ','11dImzFz','/weights/model_vad.kw','Not\x20initialized,\x20first\x20run\x20Krisp.init()','full-band','freeze','response','isDisconnected','4646512NNwevT','vadResult','enabled','destroy','hasOwnProperty','vadCallback','disconnected','vad','isDisabled','not_connected','responseType','isVad','logging','isEnabled','narrow-band','connect','webkitAudioContext','connected','Invalid\x20state','2150YisRKK','getTracks','/weights/model_8.kw','postMessage','forEach','stop','getVideoTracks','url','Krisp\x20already\x20initialized,\x20first\x20call\x20krisp.destroy()','close','disable','call','/krisp.processor.js',':\x20Root\x20directory\x20must\x20be\x20provided','defineProperty','Invalid\x20init\x20option','state','port','Invalid\x20vad\x20callback,\x20it\x20must\x20be\x20a\x20function','stream','rootDir','filter','context','contextWasProvided','not_initialized','AudioContext','/weights/model_16.kw','prototype','addTrack','warn','onmessage','isInitialized','arraybuffer','Krisp\x20is\x20not\x20connected\x20to\x20any\x20valid\x20stream,\x20please\x20call\x20Krisp.connect(stream)\x20first','6uVSfbv','10HJunXc','invalid_init_options','outputs','parameters','value','model_8','includes','55580TJIbvJ','489059BlxHFh','streams','1177950fFBRLm','model_32','isConnected','push','wide-band'];a0_0x502d=function(){return _0x52f9bb;};return a0_0x502d();}const a0_0x9796a1=a0_0x5e81;(function(_0x4c9e83,_0x4c20d2){const _0xcd77f0=a0_0x5e81,_0xe52fbc=_0x4c9e83();while(!![]){try{const _0x13c9ba=-parseInt(_0xcd77f0(0x110))/0x1*(parseInt(_0xcd77f0(0x11f))/0x2)+parseInt(_0xcd77f0(0x112))/0x3+parseInt(_0xcd77f0(0x10f))/0x4*(parseInt(_0xcd77f0(0x108))/0x5)+-parseInt(_0xcd77f0(0x107))/0x6*(parseInt(_0xcd77f0(0x11e))/0x7)+parseInt(_0xcd77f0(0x12f))/0x8+-parseInt(_0xcd77f0(0x11d))/0x9*(-parseInt(_0xcd77f0(0x142))/0xa)+-parseInt(_0xcd77f0(0x128))/0xb*(-parseInt(_0xcd77f0(0x127))/0xc);if(_0x13c9ba===_0x4c20d2)break;else _0xe52fbc['push'](_0xe52fbc['shift']());}catch(_0x16db91){_0xe52fbc['push'](_0xe52fbc['shift']());}}}(a0_0x502d,0xde841));var e={'d':(_0x29520e,_0x3dcb7f)=>{const _0x33640e=a0_0x5e81;for(var _0x2de358 in _0x3dcb7f)e['o'](_0x3dcb7f,_0x2de358)&&!e['o'](_0x29520e,_0x2de358)&&Object[_0x33640e(0xf3)](_0x29520e,_0x2de358,{'enumerable':!0x0,'get':_0x3dcb7f[_0x2de358]});},'o':(_0x4f78d8,_0x244373)=>Object[a0_0x9796a1(0x100)]['hasOwnProperty'][a0_0x9796a1(0xf0)](_0x4f78d8,_0x244373)},t={};function a0_0x5e81(_0x47c483,_0x4f2b64){const _0x502d16=a0_0x502d();return a0_0x5e81=function(_0x5e81e6,_0x520642){_0x5e81e6=_0x5e81e6-0xed;let _0x1ae6a3=_0x502d16[_0x5e81e6];return _0x1ae6a3;},a0_0x5e81(_0x47c483,_0x4f2b64);}e['d'](t,{'Z':()=>d});const i=void 0x0!==window[a0_0x9796a1(0xfe)]?window['AudioContext']:void 0x0!==window[a0_0x9796a1(0x13f)]?window['webkitAudioContext']:null,n=Object[a0_0x9796a1(0x12c)]({'not_init':a0_0x9796a1(0x12a),'no_support':'Platform\x20not\x20supported','already_init':a0_0x9796a1(0xed),'invalid_stream':a0_0x9796a1(0x126),'invalid_state':a0_0x9796a1(0x141),'invalid_init_options':a0_0x9796a1(0xf4),'not_connected':a0_0x9796a1(0x106)}),o=Object[a0_0x9796a1(0x12c)]({'initialized':'initialized','not_initialized':a0_0x9796a1(0xfd),'connected':a0_0x9796a1(0x140),'disconnected':a0_0x9796a1(0x135),'enabled':a0_0x9796a1(0x131),'disabled':a0_0x9796a1(0x121)}),a=Object[a0_0x9796a1(0x12c)]({'model_8':a0_0x9796a1(0x13d),'model_16':a0_0x9796a1(0x116),'model_32':a0_0x9796a1(0x12b),'model_vad':a0_0x9796a1(0x136)}),s={'state':o[a0_0x9796a1(0xfd)],'context':null,'filter':null,'contextWasProvided':!0x1,'sources':[],'outputs':[],'streams':[],'reset'(){const _0x52f8be=a0_0x9796a1;this['state']=o[_0x52f8be(0xfd)],this[_0x52f8be(0xfb)]=null,this[_0x52f8be(0xfa)]=null,this[_0x52f8be(0xfc)]=!0x1,this[_0x52f8be(0x11b)]=[],this[_0x52f8be(0x10a)]=[],this[_0x52f8be(0x111)]=[];}},r={async 'init'(_0x32a61a){const _0xf40943=a0_0x9796a1;if(r[_0xf40943(0x104)]())throw new Error(n['already_init']);if(!i)throw new Error(n['no_support']);if(!_0x32a61a[_0xf40943(0xf9)])throw new Error(n[_0xf40943(0x109)]+_0xf40943(0xf2));const _0x19eb9c=_0x32a61a['rootDir']+_0xf40943(0xf1);s[_0xf40943(0xfc)]=_0x32a61a['audioContext']instanceof i,s[_0xf40943(0xfb)]=s[_0xf40943(0xfc)]?_0x32a61a['audioContext']:new i();const _0x4fcbe7=_0x32a61a[_0xf40943(0x13a)]?{'type':a[_0xf40943(0x119)],'url':_0x32a61a['rootDir']+_0xf40943(0x129)}:s[_0xf40943(0xfb)][_0xf40943(0x11c)]<=0x1f40?{'type':a[_0xf40943(0x10d)],'url':_0x32a61a['rootDir']+_0xf40943(0x144)}:s[_0xf40943(0xfb)][_0xf40943(0x11c)]<=0x3e80?{'type':a[_0xf40943(0x117)],'url':_0x32a61a['rootDir']+_0xf40943(0xff)}:{'type':a[_0xf40943(0x113)],'url':_0x32a61a[_0xf40943(0xf9)]+'/weights/model_32.kw'},_0x3b1c6a=await(_0x48fcbc=_0x4fcbe7[_0xf40943(0x149)],new Promise((_0x9eb159,_0x4f4540)=>{const _0x465d01=_0xf40943,_0x208ce9=new XMLHttpRequest();_0x208ce9[_0x465d01(0x123)]=_0xb3a4e2=>{const _0x1c835c=_0x465d01;_0xb3a4e2?_0x9eb159(_0xb3a4e2['target'][_0x1c835c(0x12d)]):_0x4f4540();},_0x208ce9[_0x465d01(0x139)]=_0x465d01(0x105),_0x208ce9[_0x465d01(0x120)]('GET',_0x48fcbc,!0x0),_0x208ce9['send']();}));var _0x48fcbc;await s[_0xf40943(0xfb)]['audioWorklet']['addModule'](_0x19eb9c),s[_0xf40943(0xfa)]=new AudioWorkletNode(s[_0xf40943(0xfb)],'krisp-processor'),s[_0xf40943(0xfa)]['port'][_0xf40943(0x145)]({'isVad':_0x32a61a['isVad'],'type':'init','data':_0x3b1c6a,'sampleRate':s['context'][_0xf40943(0x11c)]}),_0x32a61a[_0xf40943(0x13a)]&&(_0x32a61a[_0xf40943(0x133)]('vadCallback')?_0x32a61a[_0xf40943(0x134)]instanceof Function?s[_0xf40943(0xfa)]['port'][_0xf40943(0x103)]=({data:_0x2a6a57})=>{const _0x9b05ec=_0xf40943;_0x32a61a[_0x9b05ec(0x134)](_0x2a6a57[_0x9b05ec(0x130)]);}:console[_0xf40943(0x102)](_0xf40943(0xf7)):console[_0xf40943(0x102)]('Consider\x20setting\x20vad\x20callback\x20when\x20running\x20Krisp\x20with\x20VAD\x20model,\x20or\x20you\x20won\x27t\x20be\x20notified\x20about\x20vad\x20results')),s[_0xf40943(0xf5)]=o['initialized'];},async 'connect'(_0x49f7b6){const _0x33145c=a0_0x9796a1;if(r[_0x33145c(0x114)]())return;if(!r[_0x33145c(0x104)]())throw new Error(n['not_init']);if(!s[_0x33145c(0xfa)]||!s['context'])throw new Error(n[_0x33145c(0x125)]);if(!(_0x49f7b6 instanceof MediaStream))throw new Error(n[_0x33145c(0x124)]);const _0x54ee30=s[_0x33145c(0xfb)][_0x33145c(0x11a)](_0x49f7b6),_0x132d20=s[_0x33145c(0xfb)]['createMediaStreamDestination']();_0x54ee30[_0x33145c(0x13e)](s[_0x33145c(0xfa)]),s[_0x33145c(0xfa)][_0x33145c(0x13e)](_0x132d20);for(const _0xddf8ee of _0x49f7b6[_0x33145c(0x148)]())_0x132d20[_0x33145c(0xf8)][_0x33145c(0x101)](_0xddf8ee);return s['state']=o[_0x33145c(0x140)],s[_0x33145c(0x11b)][_0x33145c(0x115)](_0x54ee30),s[_0x33145c(0x10a)][_0x33145c(0x115)](_0x132d20),s['streams'][_0x33145c(0x115)](_0x49f7b6),_0x132d20[_0x33145c(0xf8)];},'enable'(){const _0x48fb99=a0_0x9796a1;if(!r[_0x48fb99(0x13c)]()){if(!r['isConnected']())throw new Error(n[_0x48fb99(0x138)]);if(!s[_0x48fb99(0xfa)]||!s['context'])throw new Error(n['invalid_state']);s[_0x48fb99(0xfa)][_0x48fb99(0x10b)][_0x48fb99(0x122)](_0x48fb99(0x131))[_0x48fb99(0x10c)]=0x1,s[_0x48fb99(0xf5)]=o[_0x48fb99(0x131)];}},'disable'(){const _0x5c1a28=a0_0x9796a1;if(!r[_0x5c1a28(0x137)]()){if(!r[_0x5c1a28(0x114)]())throw new Error(n['not_connected']);if(!s[_0x5c1a28(0xfa)]||!s[_0x5c1a28(0xfb)])throw new Error(n[_0x5c1a28(0x125)]);s[_0x5c1a28(0xfa)][_0x5c1a28(0x10b)][_0x5c1a28(0x122)](_0x5c1a28(0x131))[_0x5c1a28(0x10c)]=0x0,s[_0x5c1a28(0xf5)]=o[_0x5c1a28(0x121)];}},'disconnect'(){const _0x28f2f3=a0_0x9796a1;if(!r[_0x28f2f3(0x12e)]()){if(r[_0x28f2f3(0x13c)]()&&r['disable'](),!s['filter']||!s[_0x28f2f3(0xfb)])throw new Error(n[_0x28f2f3(0x125)]);s[_0x28f2f3(0xfa)]['disconnect'](),s[_0x28f2f3(0x11b)][_0x28f2f3(0x146)](_0x5972d4=>_0x5972d4[_0x28f2f3(0x118)]()),s[_0x28f2f3(0x10a)][_0x28f2f3(0x146)](_0x5e79da=>_0x5e79da[_0x28f2f3(0x118)]()),s[_0x28f2f3(0x111)]['forEach'](_0x42039f=>_0x42039f[_0x28f2f3(0x143)]()[_0x28f2f3(0x146)](_0x5d4add=>_0x5d4add[_0x28f2f3(0x147)]())),s['sources']=[],s['outputs']=[],s['streams']=[],s[_0x28f2f3(0xf5)]=o[_0x28f2f3(0x135)];}},async 'destroy'(){const _0x5425d7=a0_0x9796a1;r[_0x5425d7(0x104)]()&&(r['isEnabled']()&&r[_0x5425d7(0xef)](),r[_0x5425d7(0x114)]()&&r[_0x5425d7(0x118)](),s[_0x5425d7(0xfa)]&&(s['filter'][_0x5425d7(0xf6)][_0x5425d7(0x145)]({'type':_0x5425d7(0x132)}),s[_0x5425d7(0xfa)]=null),s[_0x5425d7(0xfb)]&&(s[_0x5425d7(0xfc)]||await s[_0x5425d7(0xfb)][_0x5425d7(0xee)](),s['context']=null),s['state']=o[_0x5425d7(0xfd)],s['reset']());},'setLogging'(_0x362881){const _0x59d9d1=a0_0x9796a1;r[_0x59d9d1(0x104)]()&&s[_0x59d9d1(0xfa)]&&s['filter'][_0x59d9d1(0xf6)][_0x59d9d1(0x145)]({'type':_0x59d9d1(0x13b),'enabled':_0x362881});},'getContext':()=>s[a0_0x9796a1(0xfb)],'getFilter':()=>s[a0_0x9796a1(0xfa)],'getState':()=>s[a0_0x9796a1(0xf5)],'isConnected':()=>[o[a0_0x9796a1(0x140)],o[a0_0x9796a1(0x131)],o[a0_0x9796a1(0x121)]][a0_0x9796a1(0x10e)](s['state']),'isInitialized':()=>s[a0_0x9796a1(0xf5)]!==o[a0_0x9796a1(0xfd)],'isDisabled':()=>[o[a0_0x9796a1(0x121)],o[a0_0x9796a1(0x135)],o[a0_0x9796a1(0xfd)]][a0_0x9796a1(0x10e)](s[a0_0x9796a1(0xf5)]),'isEnabled':()=>s[a0_0x9796a1(0xf5)]===o[a0_0x9796a1(0x131)],'isDisconnected':()=>[o['disconnected'],o[a0_0x9796a1(0xfd)]][a0_0x9796a1(0x10e)](s[a0_0x9796a1(0xf5)])},d=r;var l=t['Z'];export{l as default};